{"remainingRequest":"D:\\nodejs\\node_global\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\DESK\\frontend\\toDoList\\gitToDo\\MYtodo\\ver4\\itemvue\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\DESK\\frontend\\toDoList\\gitToDo\\MYtodo\\ver4\\itemvue\\App.vue","mtime":1628673580774},{"path":"D:\\nodejs\\node_global\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\nodejs\\node_global\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\nodejs\\node_global\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBsZXQgaWQgPSAxOw0KZXhwb3J0IGRlZmF1bHQgew0KICAvLyBkYXRh6YeM55qE5pWw5o2u5piv5Yqo5oCB57uR5a6a55qEDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRvZG9zOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2RvcyIpIHx8ICJbXSIpLA0KICAgICAgbmV3dG9kbzogIiIsDQogICAgICBlZGl0ZWRUb2RvOiB7fSwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIHRvZG9zKG5ld1ZhbCkgew0KICAgICAgLy8g5q+P5qyh5pu05paw5YaZ5YWl57yT5a2YDQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9kb3MiLCBKU09OLnN0cmluZ2lmeShuZXdWYWwpKTsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYWRkdG9kbygpIHsNCiAgICAgIC8vIHZtb2RlbCDlj4zlkJHnu5HlrpoNCiAgICAgIC8vIOWGheWuueS4uuepuuWImeS4jeWkhOeQhg0KICAgICAgaWYgKCF0aGlzLm5ld3RvZG8pIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy8g5b6A5aSH5b+Y5YiX6KGo5Lit5paw5aKe5LiA5p2hDQogICAgICB0aGlzLnRvZG9zLnVuc2hpZnQoew0KICAgICAgICBpZDogdGhpcy50b2Rvcy5sZW5ndGggPiAwID8gdGhpcy50b2Rvc1swXS5pZCArIDEgOiAxLCAvLyBpZCDoh6rlop4NCiAgICAgICAgdGV4dDogdGhpcy5uZXd0b2RvLA0KICAgICAgICBjb21wbGV0ZTogZmFsc2UsDQogICAgICB9KTsNCiAgICAgIHRoaXMubmV3dG9kbyA9ICIiOw0KICAgIH0sDQogICAgdG9nZ2xldG9kbyhpbmRleCkgew0KICAgICAgLy8g5Yy56YWNIGlkIOaJvuWHuuivpeWkh+W/mO+8jOeEtuWQjuenu+mZpA0KICAgICAgLy8gICBjb25zdCBpbmRleCA9IHRoaXMudG9kb3MuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gdG9kby5pZCkuaWQ7DQogICAgICBjb25zb2xlLmxvZyhpbmRleCk7DQogICAgICBjb25zdCB0b2dnbGV0b2RvID0gew0KICAgICAgICBpZDogdGhpcy50b2Rvcy5sZW5ndGggPiAwID8gdGhpcy50b2Rvc1swXS5pZCArIDEgOiAxLA0KICAgICAgICB0ZXh0OiB0aGlzLnRvZG9zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGluZGV4KS50ZXh0LA0KICAgICAgICBjb21wbGV0ZTogIXRoaXMudG9kb3MuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaW5kZXgpLmNvbXBsZXRlLA0KICAgICAgfTsNCiAgICAgIC8vICAgY29uc29sZS5sb2codG9nZ2xldG9kbyk7DQogICAgICB0aGlzLnRvZG9zID0gdGhpcy50b2Rvcy5maWx0ZXIoKHRvZG8pID0+IHRvZG8uaWQgIT09IGluZGV4KTsNCiAgICAgIHRoaXMudG9kb3MudW5zaGlmdCh0b2dnbGV0b2RvKTsNCiAgICB9LA0KICAgIHJlbW92ZVRvZG8odG9kbykgew0KICAgICAgLy8g5Yy56YWNIGlkIOaJvuWHuuivpeWkh+W/mO+8jOeEtuWQjuenu+mZpA0KICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnRvZG9zLmZpbmRJbmRleCgoeCkgPT4geC5pZCA9PT0gdG9kby5pZCk7DQogICAgICB0aGlzLnRvZG9zLnNwbGljZShpbmRleCwgMSk7DQogICAgfSwNCiAgICBlZGl0VG9kbyh0b2RvKSB7DQogICAgICAvLyDlsIblvoXnvJbovpHnmoTlhoXlrrnloavlhYXliLDkv67mlLnnmoTlhoXlrrnkuK0NCiAgICAgIC8vIOS9v+eUqCAuLi4g6Kej5p6E77yM55u45b2T5LqO5L2/55SoIE9iamVjdC5hc3NpZ27vvIzlsZ7kuo7mtYXmi7fotJ0NCiAgICAgIC8vIOatpOWkhOWvueixoeWPquacieS4gOWxgu+8jOa1heaLt+i0nei2s+efow0KICAgICAgdGhpcy5lZGl0ZWRUb2RvID0geyAuLi50b2RvIH07DQogICAgfSwNCiAgICBkb25lRWRpdCh0b2RvKSB7DQogICAgICAvLyDlsIbnvJbovpHkuK3lhoXlrrnmm7TmlrDliLDliJfooajkuK0NCiAgICAgIHRoaXMudG9kb3MgPSB0aGlzLnRvZG9zLm1hcCgoeCkgPT4gew0KICAgICAgICByZXR1cm4gdG9kby5pZCA9PSB4LmlkID8geyAuLi50b2RvIH0gOiB7IC4uLnggfTsNCiAgICAgIH0pOw0KICAgICAgLy8g5riF56m657yW6L6R5a+56LGhDQogICAgICB0aGlzLmVkaXRlZFRvZG8gPSB7fTsNCiAgICB9LA0KICAgIC8vIOWPlua2iOS/ruaUueWkh+W/mA0KICAgIGNhbmNlbEVkaXQoKSB7DQogICAgICB0aGlzLmVkaXRlZFRvZG8gPSB7fTsNCiAgICB9LA0KICAgIGNsZWFyYWxsKCkgew0KICAgICAgdGhpcy50b2RvcyA9IFtdOw0KICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRvZG9zIik7DQogICAgfSwNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICB1bmNvbWxpc3QoKSB7DQogICAgICByZXR1cm4gdGhpcy50b2Rvcy5maWx0ZXIoKHRvZG8pID0+IHRvZG8uY29tcGxldGUgPT09IGZhbHNlKTsNCiAgICB9LA0KDQogICAgY29tbGlzdCgpIHsNCiAgICAgIHJldHVybiB0aGlzLnRvZG9zLmZpbHRlcigodG9kbykgPT4gdG9kby5jb21wbGV0ZSA9PT0gdHJ1ZSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":".","sourcesContent":["<template>\r\n  <!-- 最外面必须有一层div -->\r\n  <div class=\"app\">\r\n    <header>\r\n      <section>\r\n        <label for=\"add_list\">My todolist</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"add_list\"\r\n          name=\"add_list\"\r\n          placeholder=\"type here\"\r\n          required\r\n          v-model=\"newtodo\"\r\n          @keyup.enter=\"addtodo\"\r\n        />\r\n      </section>\r\n    </header>\r\n\r\n    <div class=\"content\">\r\n      <div class=\"list\">\r\n        <span>未完成</span><span id=\"todocount\">{{ uncomlist.length }}</span>\r\n      </div>\r\n      <!-- 循环渲染生成listitem -->\r\n      <!-- 不要使用v-for with v-if -->\r\n      <ul id=\"todolist\">\r\n        <li\r\n          v-for=\"todo in uncomlist\"\r\n          :key=\"todo.id\"\r\n          :class=\"{\r\n            completed: !todo.complete,\r\n            editing: todo.id == editedTodo.id,\r\n          }\"\r\n        >\r\n          <!-- <input type=\"checkbox\" class=\"box\" v-model=\"todo.complete\" /> -->\r\n          <div class=\"todoitem\" @dblclick=\"editTodo(todo)\">\r\n            <input\r\n              type=\"checkbox\"\r\n              class=\"box\"\r\n              @change=\"toggletodo(todo.id)\"\r\n              :checked=\"todo.complete\"\r\n            />\r\n            <span>{{ todo.text }}</span\r\n            ><a href=\"javascript:;\" @click=\"removeTodo(todo)\"></a>\r\n          </div>\r\n          <!-- input的value 和editedtodo是双向绑定的 -->\r\n          <input\r\n            type=\"text\"\r\n            class=\"edit\"\r\n            v-model=\"editedTodo.text\"\r\n            @blur=\"doneEdit(editedTodo)\"\r\n            @keyup.enter=\"doneEdit(editedTodo)\"\r\n            @keyup.esc=\"cancelEdit()\"\r\n          />\r\n        </li>\r\n      </ul>\r\n\r\n      <!-- donelist -->\r\n      <div class=\"list\">\r\n        <span>已完成</span><span id=\"donecount\">{{ comlist.length }}</span>\r\n      </div>\r\n      <ul id=\"donelist\">\r\n        <li v-for=\"todo in comlist\" :key=\"todo.id\">\r\n          <div>\r\n            <input\r\n              type=\"checkbox\"\r\n              class=\"box\"\r\n              @change=\"toggletodo(todo.id)\"\r\n              :checked=\"todo.complete\"\r\n            />\r\n            <span>{{ todo.text }}</span\r\n            ><a href=\"javascript:;\" @click=\"removeTodo(todo)\"></a>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div id=\"clear\">\r\n      <button id=\"clearbutton\" @click=\"clearall\">\r\n        <h3>全部清除</h3>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// let id = 1;\r\nexport default {\r\n  // data里的数据是动态绑定的\r\n  data() {\r\n    return {\r\n      todos: JSON.parse(localStorage.getItem(\"todos\") || \"[]\"),\r\n      newtodo: \"\",\r\n      editedTodo: {},\r\n    };\r\n  },\r\n  watch: {\r\n    todos(newVal) {\r\n      // 每次更新写入缓存\r\n      localStorage.setItem(\"todos\", JSON.stringify(newVal));\r\n    },\r\n  },\r\n  methods: {\r\n    addtodo() {\r\n      // vmodel 双向绑定\r\n      // 内容为空则不处理\r\n      if (!this.newtodo) {\r\n        return;\r\n      }\r\n      // 往备忘列表中新增一条\r\n      this.todos.unshift({\r\n        id: this.todos.length > 0 ? this.todos[0].id + 1 : 1, // id 自增\r\n        text: this.newtodo,\r\n        complete: false,\r\n      });\r\n      this.newtodo = \"\";\r\n    },\r\n    toggletodo(index) {\r\n      // 匹配 id 找出该备忘，然后移除\r\n      //   const index = this.todos.find((item) => item.id === todo.id).id;\r\n      console.log(index);\r\n      const toggletodo = {\r\n        id: this.todos.length > 0 ? this.todos[0].id + 1 : 1,\r\n        text: this.todos.find((item) => item.id === index).text,\r\n        complete: !this.todos.find((item) => item.id === index).complete,\r\n      };\r\n      //   console.log(toggletodo);\r\n      this.todos = this.todos.filter((todo) => todo.id !== index);\r\n      this.todos.unshift(toggletodo);\r\n    },\r\n    removeTodo(todo) {\r\n      // 匹配 id 找出该备忘，然后移除\r\n      const index = this.todos.findIndex((x) => x.id === todo.id);\r\n      this.todos.splice(index, 1);\r\n    },\r\n    editTodo(todo) {\r\n      // 将待编辑的内容填充到修改的内容中\r\n      // 使用 ... 解构，相当于使用 Object.assign，属于浅拷贝\r\n      // 此处对象只有一层，浅拷贝足矣\r\n      this.editedTodo = { ...todo };\r\n    },\r\n    doneEdit(todo) {\r\n      // 将编辑中内容更新到列表中\r\n      this.todos = this.todos.map((x) => {\r\n        return todo.id == x.id ? { ...todo } : { ...x };\r\n      });\r\n      // 清空编辑对象\r\n      this.editedTodo = {};\r\n    },\r\n    // 取消修改备忘\r\n    cancelEdit() {\r\n      this.editedTodo = {};\r\n    },\r\n    clearall() {\r\n      this.todos = [];\r\n      localStorage.removeItem(\"todos\");\r\n    },\r\n  },\r\n  computed: {\r\n    uncomlist() {\r\n      return this.todos.filter((todo) => todo.complete === false);\r\n    },\r\n\r\n    comlist() {\r\n      return this.todos.filter((todo) => todo.complete === true);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\ndiv.app {\r\n  margin: 0px;\r\n  padding: 0px;\r\n  box-sizing: border-box;\r\n  font-family: sans-serif;\r\n  font-size: 1rem;\r\n  color: #444;\r\n  background-color: gainsboro;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\nheader {\r\n  display: flex;\r\n  justify-content: center;\r\n  height: 10vh;\r\n  line-height: 10vh;\r\n  width: 100vw;\r\n  background-color: lightgreen;\r\n  font-size: 1.1rem;\r\n}\r\nheader section {\r\n  display: flex;\r\n  width: 60%;\r\n  justify-content: space-between;\r\n}\r\nheader input {\r\n  margin-top: 20px;\r\n  width: 50%;\r\n  height: 40%;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  border-radius: 5px;\r\n  box-shadow: 0 1px 0 black;\r\n  font-size: 18px;\r\n  text-indent: 10px;\r\n  border: 1px solid #ccc;\r\n  outline: 0;\r\n  text-decoration: none;\r\n}\r\n\r\ndiv.content {\r\n  width: 60%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\ndiv.list {\r\n  position: relative;\r\n  font-weight: bold;\r\n}\r\n\r\n#todocount,\r\n#donecount {\r\n  position: absolute;\r\n  right: 0;\r\n}\r\n\r\nli {\r\n  position: relative;\r\n  /* display: flex; */\r\n  margin-bottom: 10px;\r\n  border-radius: 5px;\r\n  padding: 0 10px;\r\n  height: 32px;\r\n  box-shadow: 0 1px 0 black;\r\n  line-height: 32px;\r\n  background-color: burlywood;\r\n  list-style: none;\r\n}\r\n\r\nul li .box {\r\n  position: absolute;\r\n  top: 4px;\r\n  left: 10px;\r\n  width: 20px;\r\n  line-height: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\nul li a {\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 10px;\r\n  display: inline-block;\r\n  border: 1px;\r\n  border-radius: 50%;\r\n  width: 16px;\r\n  height: 16px;\r\n  font-size: 32px;\r\n  line-height: 10px;\r\n  font-weight: bolder;\r\n  cursor: pointer;\r\n  background-color: gray;\r\n}\r\n\r\nul li span {\r\n  margin-left: 30px;\r\n  color: green;\r\n}\r\n\r\nli.completed .todoitem {\r\n  display: block;\r\n}\r\nli.completed .edit {\r\n  display: none;\r\n}\r\nli.editing .todoitem {\r\n  display: none;\r\n}\r\n\r\nli.editing .edit {\r\n  display: block;\r\n}\r\n\r\n#clear {\r\n  width: 60%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n#clearbutton {\r\n  /* border-color: red; */\r\n  border-radius: 5px;\r\n  /* box-shadow: 0 1px 0 yellow; */\r\n  cursor: pointer;\r\n  box-shadow: none;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n#clearbutton:hover {\r\n  outline: 0;\r\n  border: 2px solid lightgreen;\r\n  background: #ccc;\r\n}\r\n</style>"]}]}